(this.webpackJsonpcontrasenias=this.webpackJsonpcontrasenias||[]).push([[0],{38:function(e,a,t){e.exports=t(56)},43:function(e,a,t){},56:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(21),i=t.n(o),c=(t(43),t(5)),s=t.n(c),l=t(11),u=t(7),m=t(2),d=t(12),p=t(4),f=t(3),b="[Auth] login",v="[Auth] logout",E="[UI] error",h="[UI] remove error",O="[sitio] Nuevo sitio Form",j="[sitio] Sitio actual",y="[sitio]Sitios cargados",N="[sitio] Sitio borrado",g="[sitio] Sitios limpiados",w=t(24),_=t.n(w);t(49),t(53);_.a.initializeApp({apiKey:"AIzaSyD7F6odmJRKoDWxwbnAEIym0mOQS3H4bec",authDomain:"passwords-2df7d.firebaseapp.com",databaseURL:"https://passwords-2df7d.firebaseio.com",projectId:"passwords-2df7d",storageBucket:"passwords-2df7d.appspot.com",messagingSenderId:"595439869698",appId:"1:595439869698:web:ce1178025f0a796458ac1b"});var S=_.a.firestore(),x=function(){var e=Object(l.a)(s.a.mark((function e(a){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.collection("".concat(a,"/app/sitios")).get();case 2:return t=e.sent,n=[],t.forEach((function(e){n.push(Object(f.a)({id:e.id},e.data()))})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),k=t(16),A=t.n(k),C=function(e,a){return{type:j,payload:Object(f.a)({id:e},a)}},I=function(e){return function(){var a=Object(l.a)(s.a.mark((function a(t){var n;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,x(e);case 2:n=a.sent,t(D(n));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},D=function(e){return{type:y,payload:e}},F=function(e){return{type:N,payload:e}},P=t(15),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Object(n.useState)(e),t=Object(u.a)(a,2),r=t[0],o=t[1],i=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;o(a)},c=function(e){var a=e.target;o(Object(f.a)(Object(f.a)({},r),{},Object(P.a)({},a.name,a.value)))};return[r,c,i]},U=function(e){return{type:E,payload:e}},W=function(){return{type:h}},L=function(){var e=Object(m.b)(),a=Object(m.c)((function(e){return e.sitios})).formularioSitio,t=Object(m.c)((function(e){return e.ui})).error,n=T({name:""}),o=Object(u.a)(n,3),i=o[0],c=o[1],d=o[2],p=i.name;return r.a.createElement(r.a.Fragment,null,null===a?r.a.createElement("button",{type:"button",className:"btn btn-block btn-primario",onClick:function(){e({type:O})}},"Nuevo Sitio"):r.a.createElement("form",{className:"formulario-nuevo-sitio",onSubmit:function(a){a.preventDefault(),""!==p.trim()?(e(W()),e(function(e){return function(){var a=Object(l.a)(s.a.mark((function a(t,n){var r,o,i;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n().auth.uid,o={nombreSitio:e,email:"",username:"",password:""},a.next=4,S.collection("".concat(r,"/app/sitios")).add(o);case 4:i=a.sent,t(C(i.id,o));case 6:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}(p)),d()):e(U("El nombre del sitio no puede estar vacio"))}},r.a.createElement("input",{type:"text",className:"input-text",placeholder:"Nombre del Sitio",name:"name",onChange:c,value:p}),t&&r.a.createElement("div",{className:"mensaje error"},t," "),r.a.createElement("input",{type:"submit",className:"btn btn-primario btn-block",value:"Agregar sitio"})))},R=function(e){var a=e.sitio,t=Object(m.b)();return r.a.createElement("li",null,r.a.createElement("button",{type:"button",className:"btn btn-blank",onClick:function(){t(C(a.id,a))}},a.nombreSitio))},B=function(){var e=Object(m.c)((function(e){return e.sitios})).sitios;return r.a.createElement("ul",{className:"listado-sitios animate__animated animate__fadeIn animate__faster "},e.map((function(e){return r.a.createElement(R,{className:"animate__animated animate__fadeIn animate__faster",key:e.id,sitio:e})})))},J=function(){return r.a.createElement("aside",null,r.a.createElement("h1",null,"Gestor de contrase\xf1as"),r.a.createElement(L,null),r.a.createElement("div",{className:"sitios"},r.a.createElement("h2",null,"Tus sitios"),r.a.createElement(B,null)))},z=function(e,a){return{type:b,payload:{uid:e,displayName:a}}},G=function(){return function(e){_.a.auth().signOut(),e(H()),e({type:g})}},H=function(){return{type:v}},K=function(){var e=Object(m.b)(),a=Object(m.c)((function(e){return e.auth})).name;return r.a.createElement("div",null,r.a.createElement("header",{className:"app-header"},r.a.createElement("p",{className:"nombre-usuario"},"Hola ",r.a.createElement("span",null,a)),r.a.createElement("nav",{className:"nav-principal"},r.a.createElement("a",{href:"#!",onClick:function(){e(G())}},"Cerrar Sesi\xf3n"))))},M=function(){var e=Object(m.b)(),a=Object(m.c)((function(e){return e.sitios})).sitioActual,t=a.nombreSitio,o=a.email,i=a.password,c=a.username,d=a.id,p=Object(m.c)((function(e){return e.sitios})).sitioActual,b=Object(m.c)((function(e){return e.ui})).error,v=Object(n.useState)({identificador:d,nombre:t,correo:o,contrasenia:i,usuario:c}),E=Object(u.a)(v,2),h=E[0],O=E[1],j=h.identificador,y=h.nombre,N=h.correo,g=h.contrasenia,w=h.usuario,_=function(e){O(Object(f.a)(Object(f.a)({},h),{},Object(P.a)({},e.target.name,e.target.value)))};Object(n.useEffect)((function(){O({identificador:d,nombre:t,correo:o,contrasenia:i,usuario:c})}),[p,o,d,t,i,c]);return r.a.createElement("div",{className:"formulario animate__animated animate__fadeIn animate__faster"},r.a.createElement("form",{onSubmit:function(a){var t;a.preventDefault(),""!==y.trim()&&""!==g.trim()&&""!==N.trim()&&""!==w.trim||e(U("Todos los campos son obligatorios")),e((t=h,function(){var e=Object(l.a)(s.a.mark((function e(a,n){var r,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().auth.uid,o=t.identificador,i={email:t.correo,nombreSitio:t.nombre,username:t.usuario,password:t.contrasenia},e.next=5,S.doc("".concat(r,"/app/sitios/").concat(o)).update(i);case 5:a(C(o,i)),a(I(r)),A.a.fire("Sitio guardado!","","success");case 8:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()))}},r.a.createElement("div",{className:"contenedor-input"},r.a.createElement("input",{type:"text",className:"input-text",placeholder:"Nombre del sitio..",name:"nombre",onChange:_,value:y})),r.a.createElement("div",{className:"contenedor-input"},r.a.createElement("input",{type:"text",className:"input-text",placeholder:"Nombre de usuario",name:"usuario",onChange:_,value:w})),r.a.createElement("div",{className:"contenedor-input"},r.a.createElement("input",{type:"email",className:"input-text",placeholder:"Email",name:"correo",onChange:_,value:N})),r.a.createElement("div",{className:"contenedor-input"},r.a.createElement("input",{type:"text",className:"input-text",placeholder:"***********",name:"contrasenia",onChange:_,value:g})),b&&r.a.createElement("div",{className:"mensaje error"},b),r.a.createElement("input",{type:"submit",className:"btn btn-primario btn-block btn-submit",value:"Guardar"}),r.a.createElement("button",{type:"button",className:"btn btn-eliminar btn-block",onClick:function(){e(function(e){return function(){var a=Object(l.a)(s.a.mark((function a(t,n){var r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n().auth.uid,a.next=3,S.doc("".concat(r,"/app/sitios/").concat(e)).delete();case 3:t(F(e)),A.a.fire("Eliminado!","Sitio borrado","error");case 5:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}(j))}},"Eliminar Sitio \xd7")))},X=function(){var e=Object(m.c)((function(e){return e.sitios})).sitioActual;return r.a.createElement("div",{className:"contenedor-app animate__animated animate__fadeIn animate__faster"},r.a.createElement(J,null),r.a.createElement("div",{className:"seccion-principal"},r.a.createElement(K,null),r.a.createElement("main",null,null===e?r.a.createElement("h1",null,"No hay un sitio seleccionado"):r.a.createElement(M,null),r.a.createElement("div",{className:"contenedor-sitios"}))))},q=function(){var e=Object(m.b)(),a=Object(m.c)((function(e){return e.ui})).error,t=T({name:"",email:"",password:"",password2:""}),n=Object(u.a)(t,2),o=n[0],i=n[1],c=o.name,p=o.email,f=o.password,b=o.password2;return r.a.createElement("div",{className:"form-usuario"},r.a.createElement("div",{className:"contenedor-form sombra-dark"},r.a.createElement("h1",null,"Registrase "),a&&r.a.createElement("div",{className:"mensaje error "},a),r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),""!==c.trim()&&""!==p.trim()&&""!==f.trim()&&""!==b.trim()?f.length<6?e(U("La contrase\xf1a debe tener al menos 6 caracteres")):f===b?(e(W()),e(function(e,a,t){return function(n){_.a.auth().createUserWithEmailAndPassword(a,t).then(function(){var a=Object(l.a)(s.a.mark((function a(t){var r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=t.user,a.next=3,r.updateProfile({displayName:e});case 3:n(z(r.uid,r.displayName));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){console.log("Por favor ingrese un email valido"),A.a.fire("Error","El usuario ya esta registrado o no es un email valido","error")}))}}(c,p,f))):e(U("Las contrase\xf1as deben coincidir")):e(U("Todos los campos son obligatorios"))},className:"animate__animated animate__fadeIn animate__faster"},r.a.createElement("div",{className:"campo-form"},r.a.createElement("label",{htmlFor:"name"},"Nombre"),r.a.createElement("input",{type:"text",name:"name",id:"name",placeholder:"Tu nombre",value:c,onChange:i})),r.a.createElement("div",{className:"campo-form"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",name:"email",id:"email",placeholder:"correo@correo.com",value:p,onChange:i})),r.a.createElement("div",{className:"campo-form"},r.a.createElement("label",{htmlFor:"password"},"Contrase\xf1a"),r.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"***************",value:f,onChange:i})),r.a.createElement("div",{className:"campo-form"},r.a.createElement("label",{htmlFor:"confirm"},"Confirmar contrase\xf1a"),r.a.createElement("input",{type:"password",name:"password2",id:"password2",placeholder:"***************",value:b,onChange:i})),r.a.createElement("div",{className:"campo-form"},r.a.createElement("input",{type:"submit",className:"btn btn-primario btn-block",value:"Iniciar Sesi\xf3n"})),r.a.createElement(d.b,{to:"/auth/login",className:"enlace-cuenta"},"Ya tienes una cuenta?"))))},Q=function(){var e=Object(m.b)(),a=T({email:"",password:""}),t=Object(u.a)(a,2),n=t[0],o=t[1],i=n.email,c=n.password;return r.a.createElement("div",{className:"form-usuario"},r.a.createElement("div",{className:"contenedor-form sombra-dark"},r.a.createElement("h1",null,"Iniciar Sesi\xf3n"),r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),e(function(e,a){return function(t){_.a.auth().signInWithEmailAndPassword(e,a).then((function(e){var a=e.user;t(z(a.uid,a.displayName))})).catch((function(e){console.log("Por favor ingrese un email valido"),A.a.fire("Error","No hay credenciales con el usuario que esta ingresando","error")}))}}(i,c))},className:"animate__animated animate__fadeIn animate__faster"},r.a.createElement("div",{className:"campo-form"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",name:"email",id:"email",placeholder:"correo@correo.com",value:i,onChange:o})),r.a.createElement("div",{className:"campo-form"},r.a.createElement("label",{htmlFor:"password"},"Contrase\xf1a"),r.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"***************",value:c,onChange:o})),r.a.createElement("div",{className:"campo-form"},r.a.createElement("input",{type:"submit",className:"btn btn-primario btn-block",value:"Iniciar Sesi\xf3n"})),r.a.createElement(d.b,{to:"/auth/register",className:"enlace-cuenta"},"Crear una cuenta"))))},V=function(){return r.a.createElement("div",null,r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/auth/register",component:q}),r.a.createElement(p.b,{exact:!0,path:"/auth/login",component:Q})))},Y=t(25),$=function(e){var a=e.isAuthenticated,t=e.component,n=Object(Y.a)(e,["isAuthenticated","component"]);return r.a.createElement(p.b,Object.assign({},n,{component:function(e){return a?r.a.createElement(t,e):r.a.createElement(p.a,{to:"/auth/login"})}}))},Z=function(e){var a=e.isAuthenticated,t=e.component,n=Object(Y.a)(e,["isAuthenticated","component"]);return r.a.createElement(p.b,Object.assign({},n,{component:function(e){return a?r.a.createElement(p.a,{to:"/"}):r.a.createElement(t,e)}}))};var ee=function(){var e=Object(m.b)(),a=Object(n.useState)(!0),t=Object(u.a)(a,2),o=t[0],i=t[1],c=Object(n.useState)(!1),f=Object(u.a)(c,2),b=f[0],v=f[1];return Object(n.useEffect)((function(){_.a.auth().onAuthStateChanged(function(){var a=Object(l.a)(s.a.mark((function a(t){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:(null===t||void 0===t?void 0:t.uid)?(e(z(t.uid,t.displayName)),v(!0),e(I(t.uid))):v(!1),i(!1);case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}),[e]),o?r.a.createElement("h1",null,"Espere...."):r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement(p.d,null,r.a.createElement(Z,{path:"/auth",component:V,isAuthenticated:b}),r.a.createElement($,{exact:!0,isAuthenticated:b,path:"/",component:X}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=t(13),te=t(36),ne={loading:!1,error:null},re=t(37),oe={sitios:[],formularioSitio:null,sitioActual:null},ie="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ae.d,ce=Object(ae.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case b:return{uid:a.payload.uid,name:a.payload.displayName};case v:return{};default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case E:return Object(f.a)(Object(f.a)({},e),{},{error:a.payload});case h:return Object(f.a)(Object(f.a)({},e),{},{error:null});default:return e}},sitios:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case O:return Object(f.a)(Object(f.a)({},e),{},{formularioSitio:!0});case j:return Object(f.a)(Object(f.a)({},e),{},{sitioActual:a.payload,formularioSitio:null});case y:return Object(f.a)(Object(f.a)({},e),{},{sitios:Object(re.a)(a.payload)});case N:return Object(f.a)(Object(f.a)({},e),{},{sitioActual:null,sitios:e.sitios.filter((function(e){return e.id!==a.payload}))});case g:return Object(f.a)(Object(f.a)({},e),{},{sitioActual:null,sitios:[]});default:return e}}}),se=Object(ae.e)(ce,ie(Object(ae.a)(te.a)));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m.a,{store:se},r.a.createElement(ee,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.97891ae9.chunk.js.map